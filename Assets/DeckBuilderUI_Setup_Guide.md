# DeckBuilderUI セットアップガイド

## 🎯 概要

このガイドでは、DeckBuilderUIコンポーネントの自動セットアップ方法を説明します。カスタムエディタを使用して、UI要素とプレハブを一括で作成できます。

## 📋 必要なファイル

### スクリプトファイル
- `Scripts/UI/DeckBuilderUI.cs` - メインのデッキ構築UI
- `Scripts/UI/CardListItemUI.cs` - カードリストアイテムUI
- `Scripts/UI/SelectedCardUI.cs` - 選択カードUI
- `Scripts/Editor/DeckBuilderUIEditor.cs` - カスタムエディタ
- `Scripts/Editor/DeckBuilderSceneSetup.cs` - シーンセットアップツール

### データファイル
- `Assets/SO/CardDatabase/DefaultCardDatabase.asset` - カードデータベース

## 🚀 セットアップ手順

### 方法1: 自動セットアップ（推奨）

1. **シーンセットアップ**
   ```
   Unity Editor → Tools → Deck Builder → Create Deck Builder Scene
   ```

2. **DeckBuilderUIを選択**
   - シーン内のDeckBuilderUIオブジェクトを選択

3. **一括セットアップ実行**
   - Inspectorで「🎯 一括セットアップ実行」ボタンをクリック
   - これで全てのUI要素とプレハブが自動生成されます

### 方法2: 手動セットアップ

1. **現在のシーンに追加**
   ```
   Unity Editor → Tools → Deck Builder → Setup Current Scene
   ```

2. **個別セットアップ**
   - Inspectorの各セクションで個別にUI要素を作成
   - 「カードリストエリア設定」
   - 「選択デッキエリア設定」
   - 「ボタン設定」
   - 「フィルターボタン設定」
   - 「プレハブ設定」

## 🎨 作成されるUI要素

### カードリストエリア
- **ScrollRect**: カード一覧のスクロール表示
- **Content**: カードアイテムの配置エリア
- **VerticalLayoutGroup**: 縦方向のレイアウト

### 選択デッキエリア
- **デッキサイズ表示**: 現在のデッキ枚数表示
- **統計情報表示**: 攻撃/移動/回復カードの統計
- **選択カード表示エリア**: 選択されたカードの表示

### コントロールボタン
- **カード追加ボタン**: デッキにカードを追加
- **カード削除ボタン**: デッキからカードを削除
- **デッキクリアボタン**: デッキを全てクリア
- **バトル開始ボタン**: デッキを保存してバトル開始

### フィルターボタン
- **全カード**: 全てのカードを表示
- **攻撃カード**: 攻撃カードのみ表示
- **移動カード**: 移動カードのみ表示
- **回復カード**: 回復カードのみ表示

## 📦 作成されるプレハブ

### CardListItemUI.prefab
- **場所**: `Assets/Prefabs/UI/CardListItemUI.prefab`
- **用途**: カードリストの各アイテム表示
- **要素**:
  - カードアイコン
  - カード名
  - カードタイプ
  - カード効果
  - 背景画像
  - ボタン

### SelectedCardUI.prefab
- **場所**: `Assets/Prefabs/UI/SelectedCardUI.prefab`
- **用途**: 選択デッキの各カード表示
- **要素**:
  - カードアイコン
  - カード名
  - カードタイプ
  - 削除ボタン
  - 背景画像

## 🔧 カスタムエディタ機能

### 一括セットアップ
- **🎯 一括セットアップ実行**: 全てのUI要素とプレハブを一度に作成
- **📦 プレハブ作成**: カードUIプレハブのみ作成
- **🧹 クリーンアップ**: 不要なUI要素を削除

### 個別セットアップ
- **📋 カードリストエリア作成**: カード一覧表示エリアを作成
- **🎴 選択デッキエリア作成**: 選択デッキ表示エリアを作成
- **🔘 コントロールボタン作成**: 操作ボタンを作成
- **🔍 フィルターボタン作成**: フィルターボタンを作成

## 🎮 使用方法

### デッキ構築
1. カードリストからカードをクリックしてデッキに追加
2. フィルターボタンでカードタイプを絞り込み
3. 選択デッキエリアでカードを確認
4. 削除ボタンでカードを削除
5. デッキサイズと統計情報を確認

### バトル開始
1. 最小枚数（5枚）以上を選択
2. 「バトル開始」ボタンをクリック
3. デッキが保存され、バトルシーンに遷移

## 🔍 トラブルシューティング

### よくある問題

**Q: カードデータベースが見つからない**
A: `Assets/SO/CardDatabase/DefaultCardDatabase.asset`が存在することを確認してください。

**Q: プレハブが作成されない**
A: `Assets/Prefabs/UI/`フォルダが存在することを確認してください。

**Q: UI要素が表示されない**
A: CanvasとEventSystemが正しく設定されていることを確認してください。

**Q: ボタンが反応しない**
A: EventSystemが存在し、GraphicRaycasterが設定されていることを確認してください。

### デバッグ情報
- コンソールにログが出力されます
- 各セットアップ段階で進捗が表示されます
- エラーが発生した場合は詳細な情報が表示されます

## 📝 カスタマイズ

### レイアウトの調整
- `CreateCardListArea()`: カードリストエリアのレイアウト
- `CreateSelectedDeckArea()`: 選択デッキエリアのレイアウト
- `CreateControlButtons()`: コントロールボタンの配置
- `CreateFilterButtons()`: フィルターボタンの配置

### プレハブの調整
- `CreateCardListItemPrefab()`: カードリストアイテムのデザイン
- `CreateSelectedCardPrefab()`: 選択カードのデザイン

### 色とスタイル
- 背景色、テキスト色、ボタン色を調整可能
- フォントサイズとスタイルを変更可能
- レイアウトの間隔とパディングを調整可能

## 🎯 次のステップ

1. **UIデザインの調整**: 色やレイアウトを好みに合わせて調整
2. **アニメーション追加**: カード選択やボタンクリック時のアニメーション
3. **サウンド追加**: ボタンクリックやカード選択時の効果音
4. **保存機能**: デッキの保存と読み込み機能
5. **統計表示**: より詳細なデッキ統計情報の表示

---

**注意**: このセットアップツールは開発効率を向上させるためのものです。必要に応じて手動で調整してください。 